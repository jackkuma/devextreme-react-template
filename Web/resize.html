<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <title>Devextreme App</title>
    <link rel="stylesheet" href="./css/pageStyle.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  </head>
  <body>
      <div class="summary">
          <section id="summaryPage" style="height: 200px;">
              <h3>Test Title</h3>
              <p>The Justice Department last month moved to take the place of the President in the litigation under the Westfall Act, which it said applied because Trump's denials about the alleged assault were in response to reporters' questions in June 2019 while he was President.</p>
              <!-- <p>The Justice Department last month moved to take the place of the President in the litigation under the Westfall Act, which it said applied because Trump's denials about the alleged assault were in response to reporters' questions in June 2019 while he was President.</p> -->
              <p>The Justice Department last month moved to take the place of the President in the litigation under the Westfall Act, which it said applied because Trump's denials about the alleged assault were in response to reporters' questions in June 2019 while he was President.</p>
              <p>The Justice Department last month moved to take the place of the President in the litigation under the Westfall Act, which it said applied because Trump's denials about the alleged assault were in response to reporters' questions in June 2019 while he was President.</p>
              <p>The Justice Department last month moved to take the place of the President in the litigation under the Westfall Act, which it said applied because Trump's denials about the alleged assault were in response to reporters' questions in June 2019 while he was President.</p>
          </section>
      </div>
      <div class="sf-element item" style="top:320px;">Subject A</div>
      <div class="sf-element pieChart" style="top:370px;"></div>
      <div class="sf-element item" style="top:650px;">Subject B</div>
      <div class="sf-element barChart" style="top:700px;"></div>
  </body>
  <script>
    $(document).ready(function(){
        let initHeight = $("#summaryPage").height();
        let maxHeight = 0;
        function autoSize() {
            $('#summaryPage p').each(function() {
                let innerHeight = $(this).height() + $(this).position().top;
                console.log(innerHeight)
                if (innerHeight > maxHeight) {
                    maxHeight = innerHeight;
                    $('#summaryPage').height(maxHeight);
                }
            });

            let selfHeight = $("#summaryPage").height();
            console.log('原始高度：' + initHeight);
            console.log('目前高度：' + selfHeight);
            let addHeight = selfHeight - initHeight;
            console.log('增加高度：' + addHeight);
            $('.sf-element').each(function() {
                if (addHeight !== 0) {
                    let totalHeight = $(this).position().top + addHeight;
                    console.log(totalHeight)
                    //$('.sf-element').position().top(totalHeight);
                }
            });
        }

        autoSize();
    });
  </script>
</html>
